<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KSNU AI Major Grammar</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- ê³µí†µ ìŠ¤íƒ€ì¼ --- */
        :root {
            --primary: #002c5f;
            --accent: #2c82c9;
            --bg: #f5f7fa;
            --text: #333;
        }

        * { box-sizing: border-box; }
        body { margin: 0; font-family: 'Pretendard', sans-serif; background: var(--bg); color: var(--text); }

        /* --- í™”ë©´ ì „í™˜ --- */
        .page-section { display: none; height: 100vh; overflow-y: auto; }
        .page-section.active { display: block; }

        /* --- ë©”ì¸ í™ˆ --- */
        .hero-container {
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; padding: 40px 20px;
            background: linear-gradient(135deg, var(--primary) 0%, #004e92 100%);
            color: white; min-height: 100vh;
        }
        .project-badge { background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; font-size: 0.9rem; margin-bottom: 20px; letter-spacing: 1px; }
        .hero-title { font-size: 2.5rem; font-weight: 700; margin: 0 0 15px 0; line-height: 1.2; }
        .hero-subtitle { font-size: 1.1rem; opacity: 0.9; margin-bottom: 40px; max-width: 600px; }
        .info-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; width: 100%; max-width: 900px; margin-bottom: 40px; }
        .card { background: white; color: var(--text); padding: 25px; border-radius: 15px; text-align: left; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .card h3 { color: var(--primary); margin-top: 0; display: flex; align-items: center; gap: 10px; }
        .start-btn { background: white; color: var(--primary); font-size: 1.3rem; font-weight: bold; padding: 15px 50px; border: none; border-radius: 50px; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(0,0,0,0.3); }

        /* --- ì•± í™”ë©´ --- */
        .app-header { background: white; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #ddd; position: sticky; top: 0; z-index: 100; }
        .home-btn { border: none; background: none; font-size: 1.2rem; cursor: pointer; color: var(--primary); }
        .nav-tabs { display: flex; gap: 5px; }
        .nav-tab { padding: 8px 12px; border: none; background: #eee; border-radius: 8px; cursor: pointer; font-weight: 600; color: #777; }
        .nav-tab.active { background: var(--primary); color: white; }

        .app-content { max-width: 800px; margin: 0 auto; padding: 20px; }
        .tool-screen { display: none; }
        .tool-screen.active { display: block; }
        .panel { background: white; padding: 20px; border-radius: 12px; border: 1px solid #eee; margin-bottom: 20px; }
        select, input { width: 100%; padding: 12px; margin: 5px 0 15px 0; border: 1px solid #ddd; border-radius: 6px; font-size: 1rem; }
        .prompt-box { background: #222; color: #eee; padding: 15px; border-radius: 8px; font-family: monospace; white-space: pre-wrap; font-size: 0.9rem; line-height: 1.5; }
        .copy-btn { width: 100%; padding: 12px; background: var(--accent); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; }

        /* --- ì£¼ì°¨ë³„ ê³¼ì œ ìŠ¤íƒ€ì¼ (New) --- */
        .week-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100%, 1fr)); gap: 15px; }
        @media(min-width: 600px) { .week-grid { grid-template-columns: repeat(2, 1fr); } }

        .week-card {
            background: white; border: 1px solid #ddd; border-radius: 10px; padding: 20px;
            cursor: pointer; transition: all 0.2s; display: flex; justify-content: space-between; align-items: center;
        }
        .week-card:hover { border-color: var(--primary); box-shadow: 0 5px 15px rgba(0,0,0,0.05); transform: translateY(-2px); }
        .week-number { font-weight: bold; color: var(--accent); display: block; margin-bottom: 5px; }
        .week-topic { font-size: 1.1rem; font-weight: bold; color: #333; }
        .week-status { font-size: 0.8rem; background: #eee; padding: 4px 8px; border-radius: 12px; color: #666; }

        .assignment-view { display: none; } /* ìƒì„¸í™”ë©´ ê¸°ë³¸ ìˆ¨ê¹€ */
        .assignment-view.active { display: block; }
        .back-btn { background: none; border: none; font-size: 1rem; cursor: pointer; margin-bottom: 15px; display: flex; align-items: center; gap: 5px; color: #666; }
        .back-btn:hover { color: var(--primary); }

        /* í•˜ë‹¨ ë„¤ë¹„ */
        .bottom-nav { display: none; position: fixed; bottom: 0; width: 100%; background: white; border-top: 1px solid #ddd; justify-content: space-around; padding: 10px 0; z-index: 200; }
        .b-item { border: none; background: none; display: flex; flex-direction: column; align-items: center; font-size: 0.8rem; color: #888; }
        .b-item.active { color: var(--primary); }
        @media (max-width: 600px) { .bottom-nav { display: flex; } .nav-tabs { display: none; } .app-content { padding-bottom: 80px; } }

        /* ë³µìŠµ ì¹´ë“œ */
        .flashcard { background: white; padding: 20px; border-radius: 10px; border-left: 5px solid var(--accent); margin-bottom: 10px; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .answer { display: none; margin-top: 10px; padding-top: 10px; border-top: 1px dashed #ddd; color: var(--accent); }
        .flashcard.flipped .answer { display: block; }
    </style>
</head>
<body>

    <section id="section-home" class="page-section active">
        <div class="hero-container">
            <div class="project-badge">2025 KSNU AIX-Boost Program</div>
            <h1 class="hero-title">ì „ê³µ ì—°ê³„ AI<br>ë¬¸ë²• í•™ìŠµ ì‹œìŠ¤í…œ</h1>
            <p class="hero-subtitle">
                ìƒì„±í˜• AIë¥¼ í™œìš©í•˜ì—¬ ì „ê³µ ë§¥ë½ ì†ì—ì„œ ì˜ë¬¸ë²•ì„ í•™ìŠµí•˜ê³ ,<br>
                ë‚˜ë§Œì˜ êµì¬ë¥¼ ë§Œë“œëŠ” ìê¸°ì£¼ë„ í•™ìŠµ í”Œë«í¼
            </p>
            <div class="info-cards">
                <div class="card">
                    <h3><i class="fa-solid fa-graduation-cap"></i> êµìœ¡ê³¼ì • ê°œì„ </h3>
                    <p>í•™ìŠµìê°€ ì§ì ‘ AI ë„êµ¬ë¥¼ í™œìš©í•´ ì „ê³µ ì§€ì‹ê³¼ ì˜ì–´ë¥¼ ë™ì‹œì— ìŠµë“í•˜ëŠ” ìœµí•©í˜• ì»¤ë¦¬í˜ëŸ¼ì…ë‹ˆë‹¤.</p>
                </div>
                <div class="card">
                    <h3><i class="fa-solid fa-robot"></i> AI ì‹¤ì „ ë¬¸ì œí•´ê²°</h3>
                    <p>ë‚´ ì „ê³µ ì›ì„œì— ë‚˜ì˜¤ëŠ” í‘œí˜„ì„ ë°”íƒ•ìœ¼ë¡œ ì˜ˆë¬¸ì„ ìƒì„±í•˜ê³ , ë°ì´í„°ë¥¼ ì¶•ì í•˜ì—¬ ë§ì¶¤í˜• í•™ìŠµì„ ì§€ì›í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
            <button class="start-btn" onclick="enterApp()">í”„ë¡œì íŠ¸ ì‹œì‘í•˜ê¸° <i class="fa-solid fa-arrow-right"></i></button>
        </div>
    </section>

    <section id="section-app" class="page-section">
        <div class="app-header">
            <button class="home-btn" onclick="goHome()"><i class="fa-solid fa-house"></i></button>
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="switchTool('generator')">ìƒì„±ê¸°</button>
                <button class="nav-tab" onclick="switchTool('submission')">ê³¼ì œì œì¶œ</button>
                <button class="nav-tab" onclick="switchTool('review')">ë³µìŠµì•±</button>
            </div>
            <div style="width: 24px;"></div>
        </div>

        <div class="app-content">
            <div id="tool-generator" class="tool-screen active">
                <div class="panel">
                    <h3><i class="fa-solid fa-sliders"></i> í•™ìŠµ ì¡°ê±´ ì„¤ì •</h3>
                    
                    <label>ë‹¨ê³¼ëŒ€í•™ (College)</label>
                    <select id="collegeSelect" onchange="updateMajors()">
                        <option value="">ë‹¨ê³¼ëŒ€í•™ì„ ì„ íƒí•˜ì„¸ìš”</option>
                    </select>

                    <label>í•™ê³¼ (Major)</label>
                    <select id="majorSelect" onchange="generatePrompt()">
                        <option value="">í•™ê³¼ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                    </select>
                    
                    <label>ë¬¸ë²• ì£¼ì œ (Grammar)</label>
                    <select id="grammarSelect" onchange="generatePrompt()">
                        <option value="Passive Voice">ìˆ˜ë™íƒœ (Passive Voice)</option>
                        <option value="Relative Clauses">ê´€ê³„ëŒ€ëª…ì‚¬ (Relative Clauses)</option>
                        <option value="To-Infinitive">To ë¶€ì •ì‚¬ (To-Infinitive)</option>
                        <option value="Participle">ë¶„ì‚¬êµ¬ë¬¸ (Participle)</option>
                        <option value="Conjunctions">ì ‘ì†ì‚¬ (Conjunctions)</option>
                    </select>

                    <label>ì „ê³µ í‚¤ì›Œë“œ (ì˜µì…˜)</label>
                    <input type="text" id="keyword" placeholder="ì˜ˆ: ë°ì´í„°, ì„¸í¬, ë²•ë¥ , êµ¬ì¡°..." oninput="generatePrompt()">
                </div>

                <div class="panel" style="background: #2c3e50; color: white;">
                    <h3><i class="fa-solid fa-terminal"></i> AI í”„ë¡¬í”„íŠ¸</h3>
                    <div id="promptDisplay" class="prompt-box"></div>
                    <button class="copy-btn" onclick="copyPrompt()">ë³µì‚¬í•´ì„œ AIì—ê²Œ ì§ˆë¬¸í•˜ê¸°</button>
                </div>
            </div>

            <div id="tool-submission" class="tool-screen">
                
                <div id="week-list-view">
                    <div class="panel" style="background:none; border:none; padding:0;">
                        <h3 style="margin-top:0;"><i class="fa-solid fa-list-check"></i> ì£¼ì°¨ë³„ ê³¼ì œ ê°•ì˜ì‹¤</h3>
                        <p style="color:#666; font-size:0.9rem; margin-bottom:20px;">
                            í•´ë‹¹ ì£¼ì°¨ë¥¼ í´ë¦­í•˜ì—¬ ìƒì„±í•œ ì˜ˆë¬¸ì„ ì œì¶œí•˜ê³  ë™ë£Œë“¤ê³¼ í† ë¡ í•˜ì„¸ìš”.
                        </p>
                        <div class="week-grid" id="weekGrid">
                            </div>
                    </div>
                </div>

                <div id="assignment-detail-view" class="assignment-view">
                    <button class="back-btn" onclick="backToWeekList()">
                        <i class="fa-solid fa-arrow-left"></i> ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                    </button>
                    
                    <div class="panel">
                        <h3 id="currentWeekTitle" style="color:var(--primary); margin-top:0;">Week X</h3>
                        <div style="background:#f0f7ff; padding:15px; border-radius:8px; margin-bottom:20px; border:1px solid #cce5ff;">
                            <strong>ğŸ“ ê³¼ì œ ì•ˆë‚´:</strong><br>
                            ìƒì„±ê¸°ì—ì„œ ë§Œë“  <span id="currentWeekTopic" style="color:var(--accent); font-weight:bold;"></span> ì˜ˆë¬¸ 3ê°œë¥¼ ë¶™ì—¬ë„£ê³ , 
                            ìì‹ ì˜ í•´ì„ì„ ë§ë¶™ì—¬ ì œì¶œí•˜ì„¸ìš”.
                        </div>
                        
                        <div class="giscus-container"></div>
                    </div>
                </div>

            </div>

            <div id="tool-review" class="tool-screen">
                <h3><i class="fa-solid fa-layer-group"></i> ì˜¤ëŠ˜ì˜ ì „ê³µ ë‹¨ì–´ì¥</h3>
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <strong>[ì»´í“¨í„°] The data is processed by...</strong>
                    <div class="answer">ì •ë‹µ: ìˆ˜ë™íƒœ (Data receives the action)</div>
                </div>
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <strong>[í•´ì–‘] Species living in the ocean...</strong>
                    <div class="answer">ì •ë‹µ: í˜„ì¬ë¶„ì‚¬ (Active meaning)</div>
                </div>
                <div class="flashcard" onclick="this.classList.toggle('flipped')">
                    <strong>[ê²½ì˜] The strategy used to increase...</strong>
                    <div class="answer">ì •ë‹µ: ê³¼ê±°ë¶„ì‚¬ (Passive meaning)</div>
                </div>
            </div>
        </div>

        <nav class="bottom-nav">
            <button class="b-item active" onclick="switchTool('generator')" id="m-gen"><i class="fa-solid fa-wand-magic-sparkles"></i> ìƒì„±</button>
            <button class="b-item" onclick="switchTool('submission')" id="m-sub"><i class="fa-solid fa-file-pen"></i> ì œì¶œ</button>
            <button class="b-item" onclick="switchTool('review')" id="m-rev"><i class="fa-solid fa-repeat"></i> ë³µìŠµ</button>
        </nav>
    </section>

    <script>
        // --- â˜…â˜…â˜… ì„¤ì • ë³€ìˆ˜ (ì—¬ê¸°ë§Œ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤!) â˜…â˜…â˜… ---
        const GISCUS_REPO = "rlaclajrdj25/rlaclajrdj25.github.io"; // ì €ì¥ì†Œ ì´ë¦„
        const GISCUS_REPO_ID = "R_kgDOL...";       // â˜… IDê°’ ë¶™ì—¬ë„£ê¸°
        const GISCUS_CATEGORY_ID = "DIC_kwDOL..."; // â˜… Category IDê°’ ë¶™ì—¬ë„£ê¸°
        // ----------------------------------------------------

        // --- 1. ë°ì´í„°: ë‹¨ê³¼ëŒ€í•™ ë° í•™ê³¼ ---
        const collegeData = {
            "ì»´í“¨í„°ì†Œí”„íŠ¸ì›¨ì–´íŠ¹ì„±í™”ëŒ€í•™": ["ì»´í“¨í„°ì •ë³´ê³µí•™ê³¼", "ì¸ê³µì§€ëŠ¥ìœµí•©í•™ê³¼", "ì„ë² ë””ë“œì†Œí”„íŠ¸ì›¨ì–´í•™ê³¼", "ì†Œí”„íŠ¸ì›¨ì–´í•™ê³¼", "ITìœµí•©í†µì‹ ê³µí•™ê³¼"],
            "í•´ì–‘Â·ë°”ì´ì˜¤íŠ¹ì„±í™”ëŒ€í•™": ["ìƒëª…ê³¼í•™ê³¼", "í•´ì–‘ìˆ˜ì‚°ê³µê³µì¸ì¬í•™ê³¼", "í•´ì–‘ìƒëª…ê³¼í•™ê³¼", "í•´ì–‘ìƒë¬¼ìì›í•™ê³¼", "ìˆ˜ì‚°ìƒëª…ì˜í•™ê³¼", "ì‹í’ˆì˜ì–‘í•™ê³¼", "ê¸°ê´€ê³µí•™ê³¼", "ì‹í’ˆìƒëª…ê³µí•™ê³¼"],
            "ê²½ì˜íŠ¹ì„±í™”ëŒ€í•™": ["ê²½ì˜í•™ë¶€", "êµ­ì œë¬¼ë¥˜í•™ê³¼", "ë¬´ì—­í•™ê³¼", "íšŒê³„í•™ë¶€", "ê¸ˆìœµë¶€ë™ì‚°ê²½ì œí•™ê³¼", "ë²¤ì²˜ì°½ì—…í•™ê³¼"],
            "ììœ¨ì „ê³µëŒ€í•™": ["ììœ¨ì „ê³µí•™ë¶€", "ë¯¸ìˆ í•™ê³¼", "ìŒì•…ê³¼", "ì¡°ì„ ê³µí•™ê³¼", "ê¸€ë¡œë²Œìœµí•©í•™ë¶€"],
            "ìœµí•©ê³¼í•™ê³µí•™ëŒ€í•™": ["ì „ìê³µí•™ê³¼", "ì „ê¸°ê³µí•™ê³¼", "ì‹ ì†Œì¬ê³µí•™ê³¼", "í™”í•™ê³µí•™ê³¼", "í™˜ê²½ê³µí•™ê³¼", "í† ëª©ê³µí•™ê³¼", "í•´ì–‘ê±´ì„¤ê³µí•™ê³¼", "ì²¨ë‹¨ê³¼í•™ê¸°ìˆ í•™ë¶€", "ìˆ˜í•™ê³¼"],
            "ì¸ë¬¸ì½˜í…ì¸ ìœµí•©ëŒ€í•™": ["êµ­ì–´êµ­ë¬¸í•™ê³¼", "ì˜ì–´ì˜ë¬¸í•™ê³¼", "ì¼ì–´ì¼ë¬¸í•™ê³¼", "ì¤‘ì–´ì¤‘ë¬¸í•™ê³¼", "ì—­ì‚¬í•™ê³¼", "ì² í•™ê³¼"],
            "ICC íŠ¹ì„±í™” ëŒ€í•™ë¶€": ["ë¯¸ë””ì–´ë¬¸í™”í•™ë¶€", "ì•„ë™í•™ë¶€", "ì‚¬íšŒë³µì§€í•™ë¶€", "ë²•í–‰ì •ê²½ì°°í•™ë¶€", "ê°„í˜¸í•™ë¶€", "ì²´ìœ¡í•™ë¶€", "ì‚°ì—…ë””ìì¸í•™ë¶€", "ì˜ë¥˜í•™ë¶€", "í•´ì–‘ê²½ì°°í•™ë¶€", "ê¸°ê³„ê³µí•™ë¶€", "ê±´ì¶•ê³µí•™ë¶€", "ê³µê°„ë””ìì¸ìœµí•©ê¸°ìˆ í•™ë¶€", "ì´ì°¨ì „ì§€Â·ì—ë„ˆì§€í•™ë¶€"]
        };

        // --- 1.1 ë°ì´í„°: 15ì£¼ì°¨ ì»¤ë¦¬í˜ëŸ¼ ---
        const weeks = [
            { id: 1, title: "ë¬¸ì¥ì˜ 5í˜•ì‹ê³¼ ì „ê³µ ì–´íœ˜", topic: "ë¬¸ì¥ êµ¬ì¡°(Structure)" },
            { id: 2, title: "ëª…ì‚¬ì™€ ê´€ì‚¬ ë°”ë¡œ ì“°ê¸°", topic: "ëª…ì‚¬/ê´€ì‚¬(Noun/Article)" },
            { id: 3, title: "ì‹œì œì˜ ì´í•´ (í˜„ì¬/ê³¼ê±°/ë¯¸ë˜)", topic: "ì‹œì œ(Tense)" },
            { id: 4, title: "ìˆ˜ë™íƒœì˜ í™œìš© (Passive Voice)", topic: "ìˆ˜ë™íƒœ(Passive Voice)" },
            { id: 5, title: "To ë¶€ì •ì‚¬ì˜ ëª…ì‚¬ì  ìš©ë²•", topic: "To ë¶€ì •ì‚¬(To-Infinitive)" },
            { id: 6, title: "ë™ëª…ì‚¬ì™€ í˜„ì¬ë¶„ì‚¬ êµ¬ë¶„", topic: "ë™ëª…ì‚¬(Gerund)" },
            { id: 7, title: "ë¶„ì‚¬êµ¬ë¬¸ê³¼ ì „ê³µ í…ìŠ¤íŠ¸ í•´ì„", topic: "ë¶„ì‚¬êµ¬ë¬¸(Participle)" },
            { id: 8, title: "ì¤‘ê°„ê³ ì‚¬ ëŒ€ì²´ ê³¼ì œ", topic: "ì¤‘ê°„ ì ê²€(Midterm)" },
            { id: 9, title: "ê´€ê³„ëŒ€ëª…ì‚¬ (ì£¼ê²©/ëª©ì ê²©)", topic: "ê´€ê³„ëŒ€ëª…ì‚¬(Relative Clause)" },
            { id: 10, title: "ê´€ê³„ë¶€ì‚¬ì™€ ë³µí•©ê´€ê³„ì‚¬", topic: "ê´€ê³„ë¶€ì‚¬(Relative Adverb)" },
            { id: 11, title: "ê°€ì •ë²• ê³¼ê±°ì™€ ê³¼ê±°ì™„ë£Œ", topic: "ê°€ì •ë²•(Subjunctive)" },
            { id: 12, title: "ì ‘ì†ì‚¬ì™€ ì „ì¹˜ì‚¬ì˜ ì°¨ì´", topic: "ì ‘ì†ì‚¬(Conjunctions)" },
            { id: 13, title: "ë¹„êµêµ¬ë¬¸ê³¼ ìµœìƒê¸‰ í‘œí˜„", topic: "ë¹„êµê¸‰(Comparison)" },
            { id: 14, title: "íŠ¹ìˆ˜êµ¬ë¬¸ (ë„ì¹˜/ê°•ì¡°)", topic: "íŠ¹ìˆ˜êµ¬ë¬¸(Special Syntax)" },
            { id: 15, title: "ê¸°ë§ í”„ë¡œì íŠ¸ ì œì¶œ", topic: "ê¸°ë§ ê³¼ì œ(Final Project)" }
        ];

        // --- 2. ì´ˆê¸°í™” ë¡œì§ ---
        window.onload = function() {
            // ë‹¨ê³¼ëŒ€í•™ ì˜µì…˜ ìƒì„±
            const collegeSelect = document.getElementById('collegeSelect');
            for (let college in collegeData) {
                let option = document.createElement('option');
                option.value = college;
                option.innerText = college;
                collegeSelect.appendChild(option);
            }
            generatePrompt();
            renderWeekGrid(); // ì£¼ì°¨ë³„ ë²„íŠ¼ ìƒì„±
        };

        // í•™ê³¼ ì—…ë°ì´íŠ¸
        function updateMajors() {
            const collegeSelect = document.getElementById('collegeSelect');
            const majorSelect = document.getElementById('majorSelect');
            const selectedCollege = collegeSelect.value;
            majorSelect.innerHTML = '<option value="">í•™ê³¼ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>';
            if (selectedCollege && collegeData[selectedCollege]) {
                collegeData[selectedCollege].forEach(major => {
                    let option = document.createElement('option');
                    option.value = major;
                    option.innerText = major;
                    majorSelect.appendChild(option);
                });
            }
            generatePrompt();
        }

        // ì£¼ì°¨ë³„ ê·¸ë¦¬ë“œ ìƒì„± í•¨ìˆ˜
        function renderWeekGrid() {
            const grid = document.getElementById('weekGrid');
            grid.innerHTML = "";
            weeks.forEach(week => {
                const card = document.createElement('div');
                card.className = "week-card";
                card.onclick = () => openWeekAssignment(week);
                card.innerHTML = `
                    <div>
                        <span class="week-number">${week.id}ì£¼ì°¨</span>
                        <div class="week-topic">${week.title}</div>
                    </div>
                    <i class="fa-solid fa-chevron-right" style="color:#ddd;"></i>
                `;
                grid.appendChild(card);
            });
        }

        // íŠ¹ì • ì£¼ì°¨ í´ë¦­ ì‹œ ìƒì„¸ í™”ë©´ ì—´ê¸°
        function openWeekAssignment(week) {
            document.getElementById('week-list-view').style.display = 'none';
            document.getElementById('assignment-detail-view').style.display = 'block';
            
            document.getElementById('currentWeekTitle').innerHTML = `<span style="color:#666; font-size:0.8em;">${week.id}ì£¼ì°¨</span><br>${week.title}`;
            document.getElementById('currentWeekTopic').innerText = week.topic;

            // â˜… ì¤‘ìš”: í•´ë‹¹ ì£¼ì°¨ë¥¼ êµ¬ë¶„í•˜ëŠ” 'term'ì„ ìƒì„±í•˜ì—¬ Giscus ë¡œë“œ
            const termName = `${week.id}ì£¼ì°¨: ${week.title}`; 
            loadGiscus(termName);
        }

        // ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
        function backToWeekList() {
            document.getElementById('assignment-detail-view').style.display = 'none';
            document.getElementById('week-list-view').style.display = 'block';
            // ëŒ“ê¸€ì°½ ì´ˆê¸°í™” (ì„±ëŠ¥ ìµœì í™”)
            document.querySelector('.giscus-container').innerHTML = '';
        }

        // í”„ë¡¬í”„íŠ¸ ìƒì„±
        function generatePrompt() {
            const college = document.getElementById('collegeSelect').value || "University";
            const major = document.getElementById('majorSelect').value || "Major";
            const grammar = document.getElementById('grammarSelect').value;
            const keyword = document.getElementById('keyword').value || "(Topic Keyword)";
            const txt = `Act as a professor in ${major} (${college}).
I am a student majoring in ${major}.
Please create 3 example sentences using "${grammar}" related to the keyword "${keyword}" in the context of ${major}.
[Requirements]
1. Use professional vocabulary related to ${major}.
2. Provide a Korean translation for each sentence.
3. Explain why this grammar is used in this context.
4. Create a "Fill-in-the-blank" quiz for each sentence.`;
            document.getElementById('promptDisplay').innerText = txt;
        }

        function copyPrompt() {
            const text = document.getElementById('promptDisplay').innerText;
            navigator.clipboard.writeText(text).then(() => alert('ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! AIì—ê²Œ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.'));
        }

        // í™”ë©´ ì „í™˜
        function enterApp() {
            document.getElementById('section-home').classList.remove('active');
            document.getElementById('section-app').classList.add('active');
        }
        function goHome() {
            document.getElementById('section-app').classList.remove('active');
            document.getElementById('section-home').classList.add('active');
        }
        function switchTool(toolId) {
            document.querySelectorAll('.nav-tab').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.b-item').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tool-screen').forEach(el => el.classList.remove('active'));
            document.getElementById('tool-' + toolId).classList.add('active');
            if(toolId === 'generator') { 
                document.querySelectorAll('.nav-tab')[0].classList.add('active');
                document.getElementById('m-gen').classList.add('active');
            }
            if(toolId === 'submission') {
                document.querySelectorAll('.nav-tab')[1].classList.add('active');
                document.getElementById('m-sub').classList.add('active');
            }
            if(toolId === 'review') {
                document.querySelectorAll('.nav-tab')[2].classList.add('active');
                document.getElementById('m-rev').classList.add('active');
            }
        }

        // â˜…â˜…â˜… Giscus ë¡œë” í•¨ìˆ˜ (ë™ì  ìƒì„±) â˜…â˜…â˜…
        function loadGiscus(term) {
            const container = document.querySelector('.giscus-container');
            container.innerHTML = ""; // ê¸°ì¡´ ëŒ“ê¸€ì°½ ì œê±°

            const script = document.createElement('script');
            script.src = "https://giscus.app/client.js";
            
            script.setAttribute("data-repo", GISCUS_REPO);
            script.setAttribute("data-repo-id", GISCUS_REPO_ID);
            script.setAttribute("data-category", "General");
            script.setAttribute("data-category-id", GISCUS_CATEGORY_ID);
            
            // â˜… ì—¬ê¸°ê°€ í•µì‹¬: ì£¼ì°¨ë³„ë¡œ ë‹¤ë¥¸ ëŒ“ê¸€ì°½ì„ ë³´ì—¬ì£¼ëŠ” í‚¤ê°’
            script.setAttribute("data-mapping", "specific");
            script.setAttribute("data-term", term);
            
            script.setAttribute("data-strict", "0");
            script.setAttribute("data-reactions-enabled", "1");
            script.setAttribute("data-emit-metadata", "0");
            script.setAttribute("data-input-position", "bottom");
            script.setAttribute("data-theme", "light");
            script.setAttribute("data-lang", "ko");
            script.crossOrigin = "anonymous";
            script.async = true;
            
            container.appendChild(script);
        }
    </script>
</body>
</html>
